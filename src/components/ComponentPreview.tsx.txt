"use client";

import { useState, useEffect } from 'react';

interface ComponentPreviewProps {
  code: string;
}

export default function ComponentPreview({ code }: ComponentPreviewProps) {
  const [previewContent, setPreviewContent] = useState<string>('');

  useEffect(() => {
    // For now, we'll show a styled placeholder preview
    // In a full implementation, this would use dynamic imports or iframe rendering
    setPreviewContent(`
      <div style="
        padding: 32px; 
        border: 2px dashed #64748b; 
        border-radius: 12px; 
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1)); 
        text-align: center;
        backdrop-filter: blur(8px);
      ">
        <div style="
          color: #94a3b8; 
          margin-bottom: 16px; 
          font-size: 24px;
          font-weight: 600;
        ">
          ðŸŽ¨ Component Preview
        </div>
        <div style="
          color: #e2e8f0; 
          font-size: 16px; 
          line-height: 1.5;
          max-width: 400px;
          margin: 0 auto;
        ">
          Live preview functionality is coming in Phase 2!<br/><br/>
          For now, copy the generated TypeScript code and use it directly in your React projects.
          <br/><br/>
          <span style="color: #60a5fa; font-weight: 500;">
            Professional, production-ready components every time! âœ¨
          </span>
        </div>
      </div>
    `);
  }, [code]);

  return (
    <div className="bg-white/5 rounded-lg border border-white/10 p-6">
      <div className="mb-4">
        <h3 className="text-white font-medium flex items-center gap-2 mb-2">
          ðŸŽ¨ Live Preview
        </h3>
        <p className="text-slate-400 text-sm">
          Copy the generated code to use in your project. Full preview rendering coming soon!
        </p>
      </div>
      
      <div 
        className="rounded-lg overflow-hidden"
        dangerouslySetInnerHTML={{ __html: previewContent }}
      />
    </div>
  );
}